<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>"Strings"</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;800&display=swap">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/admin/style.css">
	<link rel="stylesheet" type="text/css" href="api/css/alertify.min.css">
	<script src="api/alertify.min.js"></script>
	<script src="js/cookie.class.js"></script>
	<script src="js/ajax.class.js"></script>
	<script src="js/common.js"></script>
	<script src="js/admin/index.js"></script>
	<template id="template">
		<div class="fragment">
			<p class="id"></p>
			<input type="text" name="category" class="category">
			<input type="text" name="name" class="name">
			<textarea name="lore" class="lore"></textarea>
			<input type="number" name="hp" class="hp">
			<input type="number" name="mp" class="mp">
			<input type="number" name="atk" class="atk">
			<input type="number" name="tec" class="tec">
			<input type="number" name="skill" class="skill" onchange="this.nextElementSibling.innerText = get_skill_name(this.value)">
			<p class="skill_name"></p>
			<button type="button" onclick="update_fragment(this.parentNode)">更新</button>
		</div>
		<div class="skill">
			<p class="id"></p>
			<input type="text" name="name" class="name">
			<textarea name="lore" class="lore"></textarea>
			<select name="timing" class="timing">
				<option value="0">通常</option>
				<option value="1">反応</option>
				<option value="2">開始</option>
				<option value="3">勝利</option>
				<option value="4">敗北</option>
				<option value="5">逃走</option>
				<option value="-2">無感</option>
				<option value="-1">世界観</option>
			</select>
			<input type="text" name="effect" class="effect">
			<button type="button" onclick="update_skill(this.parentNode)">更新</button>
		</div>
		<div class="player_fragment">
			<p class="eno"></p>
			<p class="slot"></p>
			<input type="text" name="category" class="category">
			<input type="checkbox" name="user" class="user">
			<p class="name"></p>
			<p class="lore"></p>
			<input type="number" name="hp" class="hp">
			<input type="number" name="mp" class="mp">
			<input type="number" name="atk" class="atk">
			<input type="number" name="tec" class="tec">
			<input type="number" name="skill" class="skill">
			<p class="skill_name"></p>
			<button type="button" class="update" onclick="update_player_fragment(this.parentNode)">更新</button>
			<button type="button" class="delete" onclick="update_player_fragment(this.parentNode, true)">削除</button>
		</div>
		<div class="load_players_fragments">
			<input type="number" name="min"> ~ <input type="number" name="max">
			<button type="button" onclick="call_load_players_fragments(this.parentNode)">取得</button>
		</div>
	</template>
</head>
<body class="scroll">
	<h2>"Strings".admin</h2>
	<h3 onclick="this.nextElementSibling.classList.toggle('hide')">コンソール</h3>
	<div>
		<textarea id="input"></textarea>
		<button onclick="execute_sql(document.getElementById('input').value)">SQL実行</button>
		<button onclick="make_fragments_skills(document.getElementById('input').value)">スキル・フラグメント作成</button>
	</div>
	<h3 onclick="this.nextElementSibling.classList.toggle('hide')">スキル</h3>
	<div>
		<button type="button" onclick="load_skills(this.parentNode)">取得</button>
	</div>
	<h3 onclick="this.nextElementSibling.classList.toggle('hide')">フラグメント</h3>
	<div>
		<button type="button" onclick="load_fragments(this.parentNode)">取得</button>
	</div>
	<h3 onclick="this.nextElementSibling.classList.toggle('hide')">プレイヤーフラグメント</h3>
	<div>
		<div class="load_players_fragments">
			<input type="number" name="min" value="1"> ~ <input type="number" name="max" value="31">
			<button type="button" onclick="call_load_players_fragments(this.parentNode)">取得</button>
		</div>
	</div>
</body>
